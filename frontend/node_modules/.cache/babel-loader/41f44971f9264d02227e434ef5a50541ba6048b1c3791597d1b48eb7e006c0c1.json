{"ast":null,"code":"var _jsxFileName = \"F:\\\\Intern years 2\\\\Food-Order\\\\Ordering-Foods\\\\frontend\\\\src\\\\components\\\\FoodCard.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { useCart } from '../contexts/CartContext';\nimport { AuthContext } from '../contexts/AuthContext';\nimport { Plus } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FoodCard = ({\n  food,\n  viewMode\n}) => {\n  _s();\n  const {\n    addToCart,\n    isLoading\n  } = useCart();\n  const {\n    user\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const handleAddToCart = () => {\n    if (!user) {\n      const tableIdFromUrl = location.pathname.split('/menu/')[1];\n      const tableIdFromStorage = localStorage.getItem('tableId');\n      const currentTableId = tableIdFromUrl || tableIdFromStorage;\n      navigate('/login', {\n        state: {\n          from: location,\n          tableId: currentTableId\n        }\n      });\n      return;\n    }\n    addToCart({\n      id: food._id || food.id,\n      name: food.name,\n      price: food.price,\n      image: food.image,\n      quantity: 1\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    whileHover: {\n      y: -5,\n      boxShadow: '0px 8px 16px rgba(0,0,0,0.15)'\n    },\n    whileTap: {\n      scale: 0.97\n    },\n    className: viewMode === 'list' ? 'd-flex mb-4' : 'mb-4',\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card flex-fill border-0 shadow-sm rounded-3 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"position-relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: food.image,\n          alt: food.name,\n          className: \"w-100\",\n          style: {\n            height: viewMode === 'list' ? '200px' : '180px',\n            objectFit: 'cover'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), food.discount && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge bg-danger position-absolute top-0 start-0 m-2\",\n          children: [\"-\", food.discount, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-light position-absolute top-0 end-0 m-2 p-1 rounded-circle\",\n          style: {\n            width: '36px',\n            height: '36px'\n          },\n          title: \"Add to favorites\",\n          children: \"\\u2764\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title mb-2 text-truncate\",\n          title: food.name,\n          children: food.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text text-muted flex-grow-1 mb-3\",\n          style: {\n            WebkitLineClamp: viewMode === 'list' ? 2 : 3,\n            display: '-webkit-box',\n            WebkitBoxOrient: 'vertical',\n            overflow: 'hidden'\n          },\n          children: food.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"fs-5 fw-bold text-danger\",\n            children: [food.price.toLocaleString(), \"\\u20AB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-success d-flex align-items-center\",\n            onClick: handleAddToCart,\n            disabled: isLoading,\n            children: [isLoading ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"spinner-border spinner-border-sm text-white me-2\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Plus, {\n              size: 16,\n              className: \"text-white me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white\",\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(FoodCard, \"U5Amjp92ylqMo6EVcfR3UWctLbs=\", false, function () {\n  return [useCart, useNavigate, useLocation];\n});\n_c = FoodCard;\nexport default FoodCard;\nvar _c;\n$RefreshReg$(_c, \"FoodCard\");","map":{"version":3,"names":["React","useContext","useNavigate","useLocation","motion","useCart","AuthContext","Plus","jsxDEV","_jsxDEV","FoodCard","food","viewMode","_s","addToCart","isLoading","user","navigate","location","handleAddToCart","tableIdFromUrl","pathname","split","tableIdFromStorage","localStorage","getItem","currentTableId","state","from","tableId","id","_id","name","price","image","quantity","div","whileHover","y","boxShadow","whileTap","scale","className","children","src","alt","style","height","objectFit","fileName","_jsxFileName","lineNumber","columnNumber","discount","width","title","WebkitLineClamp","display","WebkitBoxOrient","overflow","description","toLocaleString","onClick","disabled","role","size","_c","$RefreshReg$"],"sources":["F:/Intern years 2/Food-Order/Ordering-Foods/frontend/src/components/FoodCard.js"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport { AuthContext } from '../contexts/AuthContext';\r\nimport { Plus } from 'lucide-react';\r\n\r\nconst FoodCard = ({ food, viewMode }) => {\r\n  const { addToCart, isLoading } = useCart();\r\n  const { user } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const handleAddToCart = () => {\r\n    if (!user) {\r\n      const tableIdFromUrl = location.pathname.split('/menu/')[1];\r\n      const tableIdFromStorage = localStorage.getItem('tableId');\r\n      const currentTableId = tableIdFromUrl || tableIdFromStorage;\r\n      navigate('/login', { state: { from: location, tableId: currentTableId } });\r\n      return;\r\n    }\r\n    addToCart({\r\n      id: food._id || food.id,\r\n      name: food.name,\r\n      price: food.price,\r\n      image: food.image,\r\n      quantity: 1,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      whileHover={{ y: -5, boxShadow: '0px 8px 16px rgba(0,0,0,0.15)' }}\r\n      whileTap={{ scale: 0.97 }}\r\n      className={viewMode === 'list' ? 'd-flex mb-4' : 'mb-4'}\r\n    >\r\n      <div className=\"card flex-fill border-0 shadow-sm rounded-3 overflow-hidden\">\r\n        <div className=\"position-relative\">\r\n          <img\r\n            src={food.image}\r\n            alt={food.name}\r\n            className=\"w-100\"\r\n            style={{ height: viewMode === 'list' ? '200px' : '180px', objectFit: 'cover' }}\r\n          />\r\n          {food.discount && (\r\n            <span className=\"badge bg-danger position-absolute top-0 start-0 m-2\">\r\n              -{food.discount}%\r\n            </span>\r\n          )}\r\n          <button\r\n            className=\"btn btn-light position-absolute top-0 end-0 m-2 p-1 rounded-circle\"\r\n            style={{ width: '36px', height: '36px' }}\r\n            title=\"Add to favorites\"\r\n          >\r\n            ❤️\r\n          </button>\r\n        </div>\r\n        <div className=\"card-body d-flex flex-column\">\r\n          <h5 className=\"card-title mb-2 text-truncate\" title={food.name}>\r\n            {food.name}\r\n          </h5>\r\n          <p\r\n            className=\"card-text text-muted flex-grow-1 mb-3\"\r\n            style={{\r\n              WebkitLineClamp: viewMode === 'list' ? 2 : 3,\r\n              display: '-webkit-box',\r\n              WebkitBoxOrient: 'vertical',\r\n              overflow: 'hidden',\r\n            }}\r\n          >\r\n            {food.description}\r\n          </p>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <span className=\"fs-5 fw-bold text-danger\">\r\n              {food.price.toLocaleString()}₫\r\n            </span>\r\n            <button\r\n              className=\"btn btn-sm btn-success d-flex align-items-center\"\r\n              onClick={handleAddToCart}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? (\r\n                <span\r\n                  className=\"spinner-border spinner-border-sm text-white me-2\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n              ) : (\r\n                <Plus size={16} className=\"text-white me-2\" />\r\n              )}\r\n              <span className=\"text-white\">Add</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default FoodCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}